<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="text-center">
                <!-- Error Icon -->
                <div class="mb-4">
                    <i class="bi bi-exclamation-triangle-fill text-warning" style="font-size: 4rem;"></i>
                </div>

                <!-- Error Title -->
                <h1 class="display-4 fw-bold text-dark mb-3">
                    <% if (error.status === 404) { %>
                        404
                    <% } else if (error.status === 403) { %>
                        403
                    <% } else if (error.status === 500) { %>
                        500
                    <% } else { %>
                        Error
                    <% } %>
                </h1>

                <!-- Error Message -->
                <h2 class="h4 text-muted mb-4">
                    <% if (error.status === 404) { %>
                        Page Not Found
                    <% } else if (error.status === 403) { %>
                        Access Denied
                    <% } else if (error.status === 500) { %>
                        Internal Server Error
                    <% } else { %>
                        Something went wrong
                    <% } %>
                </h2>

                <!-- Error Description -->
                <p class="lead text-muted mb-4">
                    <% if (error.status === 404) { %>
                        The page you're looking for doesn't exist or has been moved.
                    <% } else if (error.status === 403) { %>
                        You don't have permission to access this resource.
                    <% } else if (error.status === 500) { %>
                        We're experiencing some technical difficulties. Please try again later.
                    <% } else { %>
                        <%= message %>
                    <% } %>
                </p>

                <!-- Action Buttons -->
                <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                    <a href="/" class="btn btn-primary">
                        <i class="bi bi-house"></i> Go Home
                    </a>
                    <button onclick="history.back()" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left"></i> Go Back
                    </button>
                    <a href="/carnivals" class="btn btn-outline-primary">
                        <i class="bi bi-calendar3"></i> Browse Carnivals
                    </a>
                </div>

                <!-- Additional Help -->
                <div class="mt-5 pt-4 border-top">
                    <p class="text-muted small mb-2">Need help?</p>
                    <div class="d-flex flex-wrap gap-3 justify-content-center">
                        <a href="mailto:support@oldmanfooty.com.au" class="text-decoration-none">
                            <i class="bi bi-envelope"></i> Contact Support
                        </a>
                        <a href="/carnivals" class="text-decoration-none">
                            <i class="bi bi-search"></i> Search Carnivals
                        </a>
                        <% if (!user) { %>
                            <a href="/auth/register" class="text-decoration-none">
                                <i class="bi bi-person-plus"></i> Register
                            </a>
                        <% } %>
                    </div>
                </div>

                <!-- Debug Info (Development Only) -->
                <% if (process.env.NODE_ENV !== 'production' && error.stack) { %>
                    <div class="mt-5">
                        <details class="text-start">
                            <summary class="btn btn-sm btn-outline-secondary">Debug Information</summary>
                            <div class="mt-3 p-3 bg-light rounded">
                                <h6>Error Details:</h6>
                                <p class="small text-muted mb-2"><strong>Message:</strong> <%= message %></p>
                                <% if (error.stack) { %>
                                    <p class="small text-muted mb-0"><strong>Stack Trace:</strong></p>
                                    <pre class="small text-muted"><%= error.stack %></pre>
                                <% } %>
                            </div>
                        </details>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
</div>