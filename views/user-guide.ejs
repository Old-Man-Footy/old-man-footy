<%- include('layout', { body: `
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h1 class="page-title">
                    <i class="fas fa-book-open me-2"></i>
                    Club Delegate User Guide
                </h1>
                <a href="/dashboard" class="btn btn-outline-primary">
                    <i class="fas fa-arrow-left me-1"></i>
                    Back to Dashboard
                </a>
            </div>
            
            <div class="card">
                <div class="card-body">
                    <div class="user-guide-content">
                        <% 
                        // Simple Markdown to HTML conversion for basic formatting
                        let htmlContent = guideContent
                            // Headers
                            .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                            .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                            .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                            // Bold text
                            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                            // Lists
                            .replace(/^\- (.*$)/gim, '<li>$1</li>')
                            .replace(/^\d+\. (.*$)/gim, '<li>$1</li>')
                            // Links
                            .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2">$1</a>')
                            // Code blocks
                            .replace(/\`([^`]+)\`/g, '<code>$1</code>')
                            // Line breaks
                            .replace(/\n\n/g, '</p><p>')
                            .replace(/\n/g, '<br>')
                            // Wrap in paragraphs
                            .replace(/^(?!<[h|l|d|u])(.+)$/gim, '<p>$1</p>')
                            // Clean up list formatting
                            .replace(/(<li>.*?<\/li>)/gs, function(match) {
                                return '<ul>' + match.replace(/<p>|<\/p>/g, '') + '</ul>';
                            })
                            // Clean up extra paragraph tags
                            .replace(/<p><\/p>/g, '')
                            .replace(/<p>(<h[1-6]>)/g, '$1')
                            .replace(/(<\/h[1-6]>)<\/p>/g, '$1');
                        %>
                        <%- htmlContent %>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <p class="text-muted">
                    <i class="fas fa-info-circle me-1"></i>
                    Need help? Contact support at 
                    <a href="mailto:support@oldmanfooty.com">support@oldmanfooty.com</a>
                </p>
            </div>
        </div>
    </div>
</div>

<style>
.user-guide-content {
    line-height: 1.6;
    font-size: 16px;
}

.user-guide-content h1 {
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
    margin-top: 30px;
    margin-bottom: 20px;
}

.user-guide-content h2 {
    color: #34495e;
    margin-top: 25px;
    margin-bottom: 15px;
    border-bottom: 1px solid #ecf0f1;
    padding-bottom: 5px;
}

.user-guide-content h3 {
    color: #34495e;
    margin-top: 20px;
    margin-bottom: 10px;
}

.user-guide-content ul {
    margin-bottom: 15px;
}

.user-guide-content li {
    margin-bottom: 5px;
}

.user-guide-content code {
    background-color: #f8f9fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
}

.user-guide-content a {
    color: #3498db;
    text-decoration: none;
}

.user-guide-content a:hover {
    text-decoration: underline;
}

.user-guide-content strong {
    font-weight: 600;
}

.user-guide-content p {
    margin-bottom: 12px;
}

.page-title {
    color: #2c3e50;
    font-weight: 600;
}

.card {
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border: none;
}

@media (max-width: 768px) {
    .user-guide-content {
        font-size: 14px;
    }
    
    .d-flex {
        flex-direction: column;
        align-items: start !important;
    }
    
    .d-flex .btn {
        margin-top: 10px;
    }
}
</style>
` }) %>